---
title: "Data-Set-Up"
author: "Alan, Kadija"
date: "11/13/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown
```{r}
#we downloaded the data set of current socioeconomic scores from Kaggle
#we import the data into a data frame on R
library(readr)
SES_data <- read_csv("GLOB.SES.csv")
```

```{r}
require(plyr)
require(WDI)
library(WDI)

# health expenditure, total (% of GDP) indicator = SH.XPD.TOTL.ZS
# fertility rate, tota (births per total) indicator = SP.DYN.TFRT.IN
# life expectancy at birth, female (years) indicator = SP.DYN.LE00.FE.IN
# life expectancy at birth, total (years) indicator = SP.DYN.LE00.IN
# mortality rate, under-5 (per 1000 live births) indicator = SH.DYN.MORT
# children in employment, total (% of children 7-14) indicator = SL.TLF.0714.ZS
# labor force, female (% of total labor force) indicator = SL.TLF.TOTL.FE.ZS
# labor force participation rate, female (% of female population ages 15+)(modeled ILO estimate) indicator = SL.TLF.CACT.FE.ZS
# GINI index (World Bank estimate) indicator = SI.POV.GINI
# Refugee population by country or territory of origin () indicator = SM.POP.REFG.OR
# Refugee population by country or territory of asylum () indicator = SM.POP.REFG
# Improved sanitation facilities (% of population with access) indicator = SH.STA.ACSN
# Improved water source (% of population with access) indicator = SH.H2O.SAFE.ZS
# Access to electricity (% of population) indicator = EG.ELC.ACCS.ZS
# Population living in slums (% of urban population) indicator = EN.POP.SLUM.UR.ZS


#stored the required variables in a vector to access all at once
ind = c("health_expenditure" = "SH.XPD.TOTL.ZS",
        "fetility_rate" = "SP.DYN.TFRT.IN",
        "life_expectancy_female" = "SP.DYN.LE00.FE.IN",
        "mortality_rate_under5" = "SH.DYN.MORT",
        "children_employment" = " SL.TLF.0714.ZS",
        "labor_force_female" = " SL.TLF.TOTL.FE.ZS",
        "labor_force_Particpation_rate" ='SL.TLF.CACT.FE.ZS',
        "gini_index" = "SI.POV.GINI",
        "refugee_origin" = "SM.POP.REFG.OR",
        "refugee_asylum" = "SM.POP.REFG",
        "sanitation_access" = "SH.STA.ACSN",
        "water_access" = "SH.H2O.SAFE.ZS",
        "electricity_access" = "EG.ELC.ACCS.ZS",
        "slums_population" = "EN.POP.SLUM.UR.ZS"
        )

WBD.data = WDI(indicator = ind, start=1960, end=2015)

#renamed variables to be more appropriate
rnm = c("SH.XPD.TOTL.ZS" = "health_expenditure",
        "SP.DYN.TFRT.IN" = "fetility_rate",
        "SP.DYN.LE00.FE.IN" = "life_expectancy_female",
        "SH.DYN.MORT" = "mortality_rate_under5",
        "SL.TLF.0714.ZS" = "children_employment",
        "SL.TLF.TOTL.FE.ZS" = "labor_force_female",
        "SL.TLF.CACT.FE.ZS" = "labor_force_Particpation_rate",
        "SI.POV.GINI" = "gini_index",
        "SM.POP.REFG.OR" = "refugee_origin",
        "SM.POP.REFG" = "refugee_asylum",
        "SH.STA.ACSN" = "sanitation_access",
        "SH.H2O.SAFE.ZS" = "water_access",
        "EG.ELC.ACCS.ZS" = "electricity_access",
        "EN.POP.SLUM.UR.ZS" = "slums_population"
        )

WBD.data2 <- rename(WBD.data, rnm)
head(WBD.data2)
```


```{r}
#downloaded and retrieved the conflict data set
library(readr)
conflict_data <- read_csv("ucdp-prio-acd-171.csv")
```

```{r}
#merging to the SES data set and the WBD data set
WBD.SES <- merge(WBD.data2, SES_data, by=c("country", "year"), all=TRUE)
```
